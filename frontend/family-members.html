<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Finance - Family Members</title>
    <link rel="stylesheet" href="css/family-members.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
     <!-- Hamburger Menu Toggle -->
     <div class="menu-toggle" id="menuToggle">
        <i class="fas fa-bars"></i>
    </div> 
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-brand">Family Finance</div>
        <div class="sidebar-menu">
            <a href="dashboard.html" class="menu-item">
                <i class="fas fa-home"></i> Home
            </a>
            <a href="family-members.html" class="menu-item active">
                <i class="fas fa-users"></i> Family Members
            </a>
            <a href="budget-overview.html" class="menu-item">
                <i class="fas fa-chart-pie"></i> Budget Overview
            </a>
            <a href="financial-goals.html" class="menu-item">
                <i class="fas fa-bullseye"></i> Financial Goals
            </a>
            <a href="reports.html" class="menu-item">
                <i class="fas fa-file-alt"></i> Reports
            </a>
            <a href="settings.html" class="menu-item">
                <i class="fas fa-cog"></i> Settings
            </a>
        </div>
        <div class="user-profile">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="user-info">
                <div class="user-name" id="userDisplayName">Loading...</div>
                <div class="user-role" id="userRole">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="breadcrumb">
            <a href="dashboard.html">Home</a>
            <span class="breadcrumb-arrow">â€º</span>
            <span>Family Members</span>
        </div>
        <h1 class="page-title">Family Members</h1>
        <!-- Display Family Name -->
        <div class="family-name-display" id="familyNameDisplay">
            Family Name: <span id="familyName"></span>
        </div>

        <!-- No Family Message -->
        <div id="noFamilyMessage" class="no-family-message">
            <p>You haven't created a family yet.</p>
            <button class="create-family-btn" id="createFamilyBtn">
                <i class="fas fa-plus"></i> Create Family
            </button>
        </div>

        <!-- Add Member Button (Hidden by Default) -->
        <button class="add-member-btn" id="addMemberBtn">
            <i class="fas fa-plus"></i> Add Family Member
        </button>

        <!-- Member Tabs (Hidden by Default) -->
        <div class="member-tabs" id="memberTabs" hidden>
            <div class="tab active" data-filter="all">All Members</div>
            <div class="tab" data-filter="adults">Adults</div>
            <div class="tab" data-filter="children">Children</div>
        </div>

        <!-- Member List (Hidden by Default) -->
        <div class="member-list" id="memberList" hidden>
            <!-- Members will be loaded here dynamically -->
            <div class="loading-message">Loading family members...</div>
        </div>

        <!-- Family Spending Overview (Hidden by Default) -->
        <h2 class="spending-section-title" id="spendingSectionTitle" hidden>Family Spending Overview</h2>
        <div class="spending-cards" id="spendingCards" hidden>
            <!-- Spending cards will be loaded here dynamically -->
        </div>
    </div>

    <!-- Create Family Modal -->
    <div class="modal-overlay" id="createFamilyModal">
        <div class="modal">
            <h3 class="modal-title">Create a Family</h3>
            <div class="form-group">
                <label class="form-label">Family Name</label>
                <input type="text" class="form-input" id="familyNameInput" placeholder="Enter family name">
            </div>
            <div class="modal-actions">
                <button class="btn btn-cancel" id="cancelCreateFamily">Cancel</button>
                <button class="btn btn-submit" id="submitFamilyName">Create Family</button>
            </div>
        </div>
    </div>

    <!-- Add Member Modal -->
    <div class="modal-overlay" id="addMemberModal">
        <div class="modal">
            <h3 class="modal-title">Add Family Member</h3>
            <div id="addMemberSection">
                <div class="form-group">
                    <label class="form-label">Invitation Method</label>
                    <select class="form-input" id="invitationMethod">
                        <option value="email">Send Email Invitation</option>
                        <option value="link">Generate Invitation Link</option>
                    </select>
                </div>
                
                <div id="emailInviteSection">
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-input" id="inviteEmail" placeholder="Enter email address">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Member Type</label>
                        <select class="form-input" id="memberType">
                            <option value="Adult">Adult</option>
                            <option value="Child">Child</option>
                        </select>
                    </div>
                </div>
                
                <div id="linkInviteSection" style="display: none;">
                    <p>Generate an invitation link to share with family members:</p>
                    <div class="invite-link-container" id="inviteLinkContainer">
                        <div class="invite-link" id="inviteLink"></div>
                        <button class="btn btn-submit" id="copyLinkBtn">Copy Link</button>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button class="btn btn-cancel" id="cancelAddMember">Cancel</button>
                    <button class="btn btn-submit" id="generateInviteBtn">Send Invitation</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/family-members.js"></script>
</body>
</html>